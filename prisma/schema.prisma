generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model escapade {
  id          Int           @id(map: "Escapade_pkey") @default(autoincrement())
  titre       String        @db.VarChar(100)
  description String
  region      String        @db.VarChar(100)
  thematique  String        @db.VarChar(100)
  duree       Int
  prix        Float
  favori      favori[]
  photo       photo[]
  reservation reservation[]
}

model favori {
  id            Int         @id(map: "Favori_pkey") @default(autoincrement())
  utilisateurId Int
  escapadeId    Int
  escapade      escapade    @relation(fields: [escapadeId], references: [id], map: "Favori_escapadeId_fkey")
  utilisateur   utilisateur @relation(fields: [utilisateurId], references: [id], map: "Favori_utilisateurId_fkey")
}

model paiement {
  id            Int         @id(map: "Paiement_pkey") @default(autoincrement())
  reservationId Int
  montant       Float
  date          DateTime
  reservation   reservation @relation(fields: [reservationId], references: [id], map: "Paiement_reservationId_fkey")
}

model photo {
  id          Int      @id(map: "Photo_pkey") @default(autoincrement())
  url_photo   String
  description String
  id_escapade Int
  escapade    escapade @relation(fields: [id_escapade], references: [id], map: "Photo_id_escapade_fkey")
}

model reservation {
  id            Int         @id(map: "Reservation_pkey") @default(autoincrement())
  utilisateurId Int
  escapadeId    Int
  date          DateTime
  paiement      paiement[]
  escapade      escapade    @relation(fields: [escapadeId], references: [id], map: "Reservation_escapadeId_fkey")
  utilisateur   utilisateur @relation(fields: [utilisateurId], references: [id], map: "Reservation_utilisateurId_fkey")
}

model utilisateur {
  id               Int           @id(map: "Utilisateur_pkey") @default(autoincrement())
  nom              String
  prenom           String
  email            String        @unique(map: "Utilisateur_email_key")
  mot_de_passe     String
  date_de_creation DateTime      @default(now())
  favori           favori[]
  reservation      reservation[]
}
